<% if(theme.gitalk.clientID && theme.gitalk.clientSecret && theme.gitalk.repo){ %>
  <div id="gitalk-container"></div>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.6.2/gitalk.css">
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.6.2/gitalk.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.13.0/js/md5.min.js"></script>
  <script type="text/javascript">
    var oldLoadGt = window.onload;
    window.onload = function () {
      oldLoadGt && oldLoadGt();

      var gitalk = new Gitalk({
        clientID: '<%- theme.gitalk.clientID %>',
        clientSecret: '<%- theme.gitalk.clientSecret %>',
        repo: '<%- theme.gitalk.repo %>',
        owner: '<%- theme.gitalk.owner %>',
        admin: '<%- theme.gitalk.admin %>',
        id: md5(<%- theme.gitalk.id %>),
        language: '<%- theme.gitalk.language %>',
        perPage: <%- theme.gitalk.perPage %>,
        pagerDirection: '<%- theme.gitalk.pagerDirection %>',
        createIssueManually: '<%- theme.gitalk.createIssueManually %>',
        distractionFreeMode: '<%- theme.gitalk.distractionFreeMode %>'
      });
      gitalk.render('gitalk-container')
    }
  </script>
<% } %>
